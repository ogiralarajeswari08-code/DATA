{"ast":null,"code":"import React,{forwardRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=/*#__PURE__*/forwardRef((_ref,ref)=>{let{product,onAddToCart,onToggleWishlist,isWishlisted,cartItems,navigateTo}=_ref;// Handle image source - check for uploaded files (with timestamps) vs static images\nconst getImageSrc=()=>{if(!product.image){return\"https://via.placeholder.com/200x200?text=\".concat(product.name.replace(/\\s/g,'+'));}if(product.image.startsWith('http')){return product.image;}// Check if it's an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\nif(product.image.includes('-')&&/^\\d+-\\w+\\./.test(product.image)){return\"http://localhost:5000/uploads/\".concat(product.image);}// Otherwise, it's a static image in IMAGES folder\nreturn\"/IMAGES/\".concat(product.image);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",ref:ref,children:[/*#__PURE__*/_jsx(\"img\",{src:getImageSrc(),alt:product.name,className:\"product-img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-vendor\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-store\"}),\" \",product.vendor]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"like-btn\",onClick:()=>onToggleWishlist(product),style:{color:isWishlisted?'var(--secondary)':'var(--gray)'},children:/*#__PURE__*/_jsx(\"i\",{className:isWishlisted?\"fas fa-heart\":\"far fa-heart\"})}),cartItems&&cartItems.some(item=>(item._id||item.id)===(product._id||product.id))?/*#__PURE__*/_jsx(\"button\",{className:\"btn go-to-cart\",onClick:()=>navigateTo('cart'),children:\"Go to Cart\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn add-to-cart\",onClick:()=>onAddToCart(product),children:\"Add to Cart\"})]})]})]});});export default ProductCard;","map":{"version":3,"names":["React","forwardRef","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","ref","product","onAddToCart","onToggleWishlist","isWishlisted","cartItems","navigateTo","getImageSrc","image","concat","name","replace","startsWith","includes","test","className","children","src","alt","vendor","price","onClick","style","color","some","item","_id","id"],"sources":["c:/Users/User/Downloads/REDDYS/ECOMM-R/frontend/src/Customer/Popularproducts/ProductCard.js"],"sourcesContent":["import React, { forwardRef } from 'react';\n\nconst ProductCard = forwardRef(({ product, onAddToCart, onToggleWishlist, isWishlisted, cartItems, navigateTo }, ref) => {\n  // Handle image source - check for uploaded files (with timestamps) vs static images\n  const getImageSrc = () => {\n    if (!product.image) {\n      return `https://via.placeholder.com/200x200?text=${product.name.replace(/\\s/g, '+')}`;\n    }\n    if (product.image.startsWith('http')) {\n      return product.image;\n    }\n    // Check if it's an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\n    if (product.image.includes('-') && /^\\d+-\\w+\\./.test(product.image)) {\n      return `http://localhost:5000/uploads/${product.image}`;\n    }\n    // Otherwise, it's a static image in IMAGES folder\n    return `/IMAGES/${product.image}`;\n  };\n\n  return (\n    <div className=\"product-card\" ref={ref}>\n      <img src={getImageSrc()} alt={product.name} className=\"product-img\" />\n      <div className=\"product-info\">\n        <h3 className=\"product-title\">{product.name}</h3>\n        <div className=\"product-vendor\">\n          <i className=\"fas fa-store\"></i> {product.vendor}\n        </div>\n        <div className=\"product-price\">â‚¹{product.price}</div>\n        <div className=\"product-actions\">\n          <button className=\"like-btn\" onClick={() => onToggleWishlist(product)} style={{ color: isWishlisted ? 'var(--secondary)' : 'var(--gray)' }}>\n            <i className={isWishlisted ? \"fas fa-heart\" : \"far fa-heart\"}></i>\n          </button>\n          {cartItems && cartItems.some(item => (item._id || item.id) === (product._id || product.id)) ? (\n            <button className=\"btn go-to-cart\" onClick={() => navigateTo('cart')}>Go to Cart</button>\n          ) : (\n            <button className=\"btn add-to-cart\" onClick={() => onAddToCart(product)}>Add to Cart</button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default ProductCard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,WAAW,cAAGL,UAAU,CAAC,CAAAM,IAAA,CAAkFC,GAAG,GAAK,IAAzF,CAAEC,OAAO,CAAEC,WAAW,CAAEC,gBAAgB,CAAEC,YAAY,CAAEC,SAAS,CAAEC,UAAW,CAAC,CAAAP,IAAA,CAC7G;AACA,KAAM,CAAAQ,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAI,CAACN,OAAO,CAACO,KAAK,CAAE,CAClB,kDAAAC,MAAA,CAAmDR,OAAO,CAACS,IAAI,CAACC,OAAO,CAAC,KAAK,CAAE,GAAG,CAAC,EACrF,CACA,GAAIV,OAAO,CAACO,KAAK,CAACI,UAAU,CAAC,MAAM,CAAC,CAAE,CACpC,MAAO,CAAAX,OAAO,CAACO,KAAK,CACtB,CACA;AACA,GAAIP,OAAO,CAACO,KAAK,CAACK,QAAQ,CAAC,GAAG,CAAC,EAAI,YAAY,CAACC,IAAI,CAACb,OAAO,CAACO,KAAK,CAAC,CAAE,CACnE,uCAAAC,MAAA,CAAwCR,OAAO,CAACO,KAAK,EACvD,CACA;AACA,iBAAAC,MAAA,CAAkBR,OAAO,CAACO,KAAK,EACjC,CAAC,CAED,mBACEX,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAACf,GAAG,CAAEA,GAAI,CAAAgB,QAAA,eACrCrB,IAAA,QAAKsB,GAAG,CAAEV,WAAW,CAAC,CAAE,CAACW,GAAG,CAAEjB,OAAO,CAACS,IAAK,CAACK,SAAS,CAAC,aAAa,CAAE,CAAC,cACtElB,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrB,IAAA,OAAIoB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEf,OAAO,CAACS,IAAI,CAAK,CAAC,cACjDb,KAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrB,IAAA,MAAGoB,SAAS,CAAC,cAAc,CAAI,CAAC,IAAC,CAACd,OAAO,CAACkB,MAAM,EAC7C,CAAC,cACNtB,KAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,QAAC,CAACf,OAAO,CAACmB,KAAK,EAAM,CAAC,cACrDvB,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrB,IAAA,WAAQoB,SAAS,CAAC,UAAU,CAACM,OAAO,CAAEA,CAAA,GAAMlB,gBAAgB,CAACF,OAAO,CAAE,CAACqB,KAAK,CAAE,CAAEC,KAAK,CAAEnB,YAAY,CAAG,kBAAkB,CAAG,aAAc,CAAE,CAAAY,QAAA,cACzIrB,IAAA,MAAGoB,SAAS,CAAEX,YAAY,CAAG,cAAc,CAAG,cAAe,CAAI,CAAC,CAC5D,CAAC,CACRC,SAAS,EAAIA,SAAS,CAACmB,IAAI,CAACC,IAAI,EAAI,CAACA,IAAI,CAACC,GAAG,EAAID,IAAI,CAACE,EAAE,KAAO1B,OAAO,CAACyB,GAAG,EAAIzB,OAAO,CAAC0B,EAAE,CAAC,CAAC,cACzFhC,IAAA,WAAQoB,SAAS,CAAC,gBAAgB,CAACM,OAAO,CAAEA,CAAA,GAAMf,UAAU,CAAC,MAAM,CAAE,CAAAU,QAAA,CAAC,YAAU,CAAQ,CAAC,cAEzFrB,IAAA,WAAQoB,SAAS,CAAC,iBAAiB,CAACM,OAAO,CAAEA,CAAA,GAAMnB,WAAW,CAACD,OAAO,CAAE,CAAAe,QAAA,CAAC,aAAW,CAAQ,CAC7F,EACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAAC,CAEF,cAAe,CAAAlB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}