{"ast":null,"code":"import _objectSpread from\"c:/Users/User/Downloads/REDDYS/ECOMM-R/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo,useCallback}from'react';import'./ProductDetail2.css';// Assuming this CSS file exists\n// Mock data - In a real app, this would be fetched from an API\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const allProducts={// This mock data is used for related products.\n// In a real app, this would be fetched from an API or a global product list.\n601:{id:601,name:\"Pepperoni Pizza\",price:349,vendor:\"PizzaPalace\",category:\"Food & Dining\",image:\"Pepperoni Pizza.jpg\",diet:\"Non-Veg\",otherImages:[\"Pepperoni Pizza1.jpg\",\"Pepperoni Pizza2.jpg\",\"Pepperoni Pizza1.jpg\"],lat:17.4486,lon:78.3908},602:{id:602,name:\"Veggie Burger\",price:179,vendor:\"BurgerBonanza\",category:\"Food & Dining\",image:\"Veggie Burger.jpg\",diet:\"Veg\",otherImages:[\"Veggie Burger1.jpeg\",\"Veggie Burger2.jpg\",\"Veggie Burger3.jpg\"],lat:17.4512,lon:78.3855},603:{id:603,name:\"Spaghetti Carbonara\",price:279,vendor:\"PastaPlace\",category:\"Food & Dining\",image:\"Spaghetti Carbonara.jpg\",diet:\"Non-Veg\",otherImages:[\"Spaghetti Carbonara1.jpg\",\"Spaghetti Carbonara2.jpg\",\"Spaghetti Carbonara3.jpg\"],lat:17.4421,lon:78.3882},604:{id:604,name:\"Butter Chicken\",price:399,vendor:\"CurryCorner\",category:\"Food & Dining\",image:\"Butter Chicken.jpg\",diet:\"Non-Veg\",otherImages:[\"Butter Chicken1.jpg\",\"Butter Chicken2.jpg\",\"Butter Chicken3.webp\"],lat:17.4550,lon:78.3920},605:{id:605,name:\"California Roll\",price:649,vendor:\"SushiSpot\",category:\"Food & Dining\",image:\"California Roll.webp\",diet:\"Non-Veg\",otherImages:[\"California Roll1.jpg\",\"California Roll2.webp\",\"California Roll3.jpg\"],lat:17.4399,lon:78.4421},606:{id:606,name:\"Club Sandwich\",price:159,vendor:\"SnackShack\",category:\"Food & Dining\",image:\"Club Sandwich.jpg\",diet:\"Non-Veg\",otherImages:[\"Club Sandwich1.jpg\",\"Club Sandwich2.jpg\",\"Club Sandwich3.jpg\"],lat:17.4455,lon:78.3800},607:{id:607,name:\"Greek Salad\",price:199,vendor:\"SaladStop\",category:\"Food & Dining\",image:\"Greek Salad.jpg\",diet:\"Veg\",otherImages:[\"Greek Salad1.jpg\",\"Greek Salad2.jpg\",\"Greek Salad3.jpg\"],lat:17.4480,lon:78.3890},608:{id:608,name:\"BBQ Ribs\",price:449,vendor:\"GrillGuru\",image:\"BBQ Ribs.jpeg\",diet:\"Non-Veg\",otherImages:[\"BBQ Ribs1.jpeg\",\"BBQ Ribs.jpeg\",\"BBQ Ribs1.jpeg\"],lat:17.4520,lon:78.3870},609:{id:609,name:\"Tiramisu\",price:249,vendor:\"DessertDen\",category:\"Food & Dining\",image:\"Tiramisu.jpeg\",diet:\"Veg\",otherImages:[\"Tiramisu1.jpeg\",\"Tiramisu.jpeg\",\"Tiramisu1.jpeg\"],lat:17.4400,lon:78.3850},610:{id:610,name:\"South Indian Thali\",price:229,vendor:\"TasteOfSouth\",category:\"Food & Dining\",image:\"South Indian Thali.jpeg\",diet:\"Veg\",otherImages:[\"South Indian Thali.jpeg\",\"South Indian Thali2.jpeg\",\"South Indian Thali3.jpeg\"],lat:17.4490,lon:78.3950},611:{id:611,name:\"Mutton Rogan Josh\",price:429,vendor:\"CurryCorner\",category:\"Food & Dining\",image:\"Mutton Rogan Josh.jpeg\",diet:\"Non-Veg\",otherImages:[\"Mutton Rogan Josh2.jpeg\",\"Mutton Rogan Josh.jpeg\",\"Mutton Rogan Josh2.jpeg\"],lat:17.4550,lon:78.3920},612:{id:612,name:\"Veg Fried Rice\",price:169,vendor:\"WokToss\",category:\"Food & Dining\",image:\"Veg Fried Rice.jpeg\",diet:\"Veg\",otherImages:[\"Veg Fried Rice2.jpeg\",\"Veg Fried Rice.jpeg\",\"Veg Fried Rice2.jpeg\"],lat:17.4430,lon:78.3860},613:{id:613,name:\"Steamed Bao Buns\",price:149,vendor:\"AsianBites\",category:\"Food & Dining\",image:\"Steamed Bao Buns.jpg\",diet:\"Veg\",otherImages:[\"Steamed Bao Buns1.jpg\",\"Steamed Bao Buns2.jpg\",\"Steamed Bao Buns3.jpg\"],lat:17.4500,lon:78.3840},614:{id:614,name:\"Shawarma Wrap\",price:219,vendor:\"MediterraneanMunch\",image:\"Shawarma Wrap.jpeg\",diet:\"Non-Veg\",otherImages:[\"Shawarma Wrap2.jpeg\",\"Shawarma Wrap.jpeg\",\"Shawarma Wrap2.jpeg\"],lat:17.4470,lon:78.3910},615:{id:615,name:\"Chocolate Lava Cake\",price:199,vendor:\"DessertDen\",category:\"Food & Dining\",image:\"Chocolate Lava Cake.jpeg\",diet:\"Veg\",otherImages:[\"Chocolate Lava Cake2.jpeg\",\"Chocolate Lava Cake.jpeg\",\"Chocolate Lava Cake2.jpeg\"],lat:17.4400,lon:78.3850}};const ProductDetail=_ref=>{let{product,onAddToCart,onToggleWishlist,cartItems,wishlistItems,navigateTo,onViewProduct}=_ref;// Handle image source - check for uploaded files (with timestamps) vs static images\nconst getImageSrc=image=>{if(!image){console.log('No image provided for product');return'https://via.placeholder.com/200x150?text=No+Image';}// Check if image is already a full URL (uploaded via admin)\nif(image.startsWith('http://')||image.startsWith('https://')){console.log('Using full URL image:',image);return image;}// Check if image is an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\nif(image.includes('-')&&/^\\d+-\\w+\\./.test(image)){const uploadPath=\"http://localhost:5000/uploads/\".concat(image);console.log('Using uploaded image path:',uploadPath);return uploadPath;}// Otherwise, it's a static image\nconst staticPath=\"/IMAGES/\".concat(image);console.log('Using static image path:',staticPath);return staticPath;};// The product prop is already passed from App.js, so no need for useParams or fetching by ID here.\nconst[mainImage,setMainImage]=useState('');const[productWithDistance,setProductWithDistance]=useState(product);const[relatedProductsWithDistance,setRelatedProductsWithDistance]=useState([]);// --- Geolocation and Distance Calculation ---\nconst getDistanceFromLatLonInKm=useCallback((lat1,lon1,lat2,lon2)=>{const R=6371;// Radius of the earth in km\nconst deg2rad=deg=>deg*(Math.PI/180);const dLat=deg2rad(lat2-lat1);const dLon=deg2rad(lon2-lon1);const a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(deg2rad(lat1))*Math.cos(deg2rad(lat2))*Math.sin(dLon/2)*Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;// Distance in km\n},[]);useEffect(()=>{if(product){const imageSrc=getImageSrc(product.image);console.log('Setting main image for product:',product.name,'Image path:',product.image,'Resolved path:',imageSrc);setMainImage(imageSrc);}window.scrollTo(0,0);},[product]);useEffect(()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const userLat=position.coords.latitude;const userLon=position.coords.longitude;// Calculate distance for main product\nif(product&&product.lat&&product.lon){const distance=getDistanceFromLatLonInKm(userLat,userLon,product.lat,product.lon);setProductWithDistance(_objectSpread(_objectSpread({},product),{},{distance:\"\".concat(distance.toFixed(1),\" km away\")}));}else{setProductWithDistance(_objectSpread(_objectSpread({},product),{},{distance:'Distance N/A'}));}// Calculate distance for related products\nconst related=Object.values(allProducts).filter(p=>p.id!==product.id).sort(()=>0.5-Math.random())// Shuffle\n.slice(0,4);// Take 4\nconst relatedWithDistance=related.map(p=>{if(p.lat&&p.lon){const distance=getDistanceFromLatLonInKm(userLat,userLon,p.lat,p.lon);return _objectSpread(_objectSpread({},p),{},{distance:\"\".concat(distance.toFixed(1),\" km away\")});}return _objectSpread(_objectSpread({},p),{},{distance:'Distance N/A'});});setRelatedProductsWithDistance(relatedWithDistance);},error=>{console.warn(\"Geolocation error: \".concat(error.message,\".\"));setProductWithDistance(_objectSpread(_objectSpread({},product),{},{distance:'Within 5km'}));const related=Object.values(allProducts).filter(p=>p.id!==product.id).sort(()=>0.5-Math.random())// Shuffle\n.slice(0,4);// Take 4\nconst relatedWithDistance=related.map(p=>_objectSpread(_objectSpread({},p),{},{distance:'Within 5km'}));setRelatedProductsWithDistance(relatedWithDistance);});}else{console.warn(\"Geolocation is not supported by this browser.\");setProductWithDistance(_objectSpread(_objectSpread({},product),{},{distance:'Distance N/A'}));const related=Object.values(allProducts).filter(p=>p.id!==product.id).sort(()=>0.5-Math.random())// Shuffle\n.slice(0,4);// Take 4\nconst relatedWithDistance=related.map(p=>_objectSpread(_objectSpread({},p),{},{distance:'Distance N/A'}));setRelatedProductsWithDistance(relatedWithDistance);}},[product,getDistanceFromLatLonInKm]);const isInCart=useMemo(()=>cartItems.some(item=>item._id===(product===null||product===void 0?void 0:product._id)||item.id===(product===null||product===void 0?void 0:product.id)),[cartItems,product]);const isInWishlist=useMemo(()=>wishlistItems.some(item=>(item._id||item.id)===(product._id||product.id)),[wishlistItems,product]);const thumbnailImages=useMemo(()=>{if(!product)return[];const images=[getImageSrc(product.image)];if(product.otherImages&&product.otherImages.length>0){return images.concat(product.otherImages.map(img=>getImageSrc(img)));}return images;},[product]);if(!product){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Product not found\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#food\",onClick:e=>{e.preventDefault();navigateTo('food');},className:\"back-link\",children:\"\\u2190 Back to Food & Dining\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#food\",onClick:e=>{e.preventDefault();navigateTo('food');},className:\"back-link\",children:\"\\u2190 Back to Food & Dining\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-images\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-image\",children:/*#__PURE__*/_jsx(\"img\",{id:\"main-product-image\",src:mainImage,alt:product.name,onError:e=>console.log('Image failed to load:',mainImage)})}),/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-track\",children:thumbnailImages.map((imgSrc,index)=>/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"\".concat(product.name,\" thumbnail \").concat(index+1),className:\"thumbnail \".concat(mainImage===imgSrc?'active':''),onClick:()=>setMainImage(imgSrc),onError:e=>e.target.src='https://via.placeholder.com/80x80?text=No+Img'},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-vendor\",children:[\"by \",product.vendor]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price-details\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Delicious and freshly prepared. Made with high-quality ingredients to satisfy your cravings.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"diet-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dietary Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"diet-indicator \".concat(product.diet==='Veg'?'diet-veg':'diet-non-veg'),title:product.diet})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-distance\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt\"}),/*#__PURE__*/_jsx(\"span\",{children:productWithDistance.distance||'Calculating...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[isInCart?/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('cart'),className:\"btn go-to-cart\",children:\"Go to Cart\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>onAddToCart(product),children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"wishlist-heart-btn \".concat(isInWishlist?'active':''),title:\"Add to Wishlist\",onClick:()=>onToggleWishlist(product),children:/*#__PURE__*/_jsx(\"i\",{className:isInWishlist?\"fas fa-heart\":\"far fa-heart\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"related-products-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Related Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"related-product-grid\",children:relatedProductsWithDistance.map(related=>/*#__PURE__*/// Assuming related products should also navigate to their detail page\n_jsxs(\"div\",{className:\"related-product-card\",onClick:()=>onViewProduct(related),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"img\",{src:getImageSrc(related.image),alt:related.name,onError:e=>e.target.src='https://via.placeholder.com/200x150?text=No+Img'}),/*#__PURE__*/_jsxs(\"div\",{className:\"related-product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:related.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'var(--gray)'},children:related.vendor}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",style:{fontSize:'18px',marginTop:'10px'},children:[\"\\u20B9\",related.price]})]})]},related.id))})]})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","jsx","_jsx","jsxs","_jsxs","allProducts","id","name","price","vendor","category","image","diet","otherImages","lat","lon","ProductDetail","_ref","product","onAddToCart","onToggleWishlist","cartItems","wishlistItems","navigateTo","onViewProduct","getImageSrc","console","log","startsWith","includes","test","uploadPath","concat","staticPath","mainImage","setMainImage","productWithDistance","setProductWithDistance","relatedProductsWithDistance","setRelatedProductsWithDistance","getDistanceFromLatLonInKm","lat1","lon1","lat2","lon2","R","deg2rad","deg","Math","PI","dLat","dLon","a","sin","cos","c","atan2","sqrt","imageSrc","window","scrollTo","navigator","geolocation","getCurrentPosition","position","userLat","coords","latitude","userLon","longitude","distance","_objectSpread","toFixed","related","Object","values","filter","p","sort","random","slice","relatedWithDistance","map","error","warn","message","isInCart","some","item","_id","isInWishlist","thumbnailImages","images","length","img","className","children","href","onClick","e","preventDefault","src","alt","onError","imgSrc","index","target","title","style","cursor","fontSize","color","marginTop"],"sources":["c:/Users/User/Downloads/REDDYS/ECOMM-R/frontend/src/Customer/Categories/Products/FoodDine/Food&Dine_ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport './ProductDetail2.css'; // Assuming this CSS file exists\n\n// Mock data - In a real app, this would be fetched from an API\nconst allProducts = {\n    // This mock data is used for related products.\n    // In a real app, this would be fetched from an API or a global product list.\n    601: { id: 601, name: \"Pepperoni Pizza\", price: 349, vendor: \"PizzaPalace\", category: \"Food & Dining\", image: \"Pepperoni Pizza.jpg\", diet: \"Non-Veg\", otherImages: [\"Pepperoni Pizza1.jpg\", \"Pepperoni Pizza2.jpg\", \"Pepperoni Pizza1.jpg\"], lat: 17.4486, lon: 78.3908 },\n    602: { id: 602, name: \"Veggie Burger\", price: 179, vendor: \"BurgerBonanza\", category: \"Food & Dining\", image: \"Veggie Burger.jpg\", diet: \"Veg\", otherImages: [\"Veggie Burger1.jpeg\", \"Veggie Burger2.jpg\", \"Veggie Burger3.jpg\"], lat: 17.4512, lon: 78.3855 },\n    603: { id: 603, name: \"Spaghetti Carbonara\", price: 279, vendor: \"PastaPlace\", category: \"Food & Dining\", image: \"Spaghetti Carbonara.jpg\", diet: \"Non-Veg\", otherImages: [\"Spaghetti Carbonara1.jpg\", \"Spaghetti Carbonara2.jpg\", \"Spaghetti Carbonara3.jpg\"], lat: 17.4421, lon: 78.3882 },\n    604: { id: 604, name: \"Butter Chicken\", price: 399, vendor: \"CurryCorner\", category: \"Food & Dining\", image: \"Butter Chicken.jpg\", diet: \"Non-Veg\", otherImages: [\"Butter Chicken1.jpg\", \"Butter Chicken2.jpg\", \"Butter Chicken3.webp\"], lat: 17.4550, lon: 78.3920 },\n    605: { id: 605, name: \"California Roll\", price: 649, vendor: \"SushiSpot\", category: \"Food & Dining\", image: \"California Roll.webp\", diet: \"Non-Veg\", otherImages: [\"California Roll1.jpg\", \"California Roll2.webp\", \"California Roll3.jpg\"], lat: 17.4399, lon: 78.4421 },\n    606: { id: 606, name: \"Club Sandwich\", price: 159, vendor: \"SnackShack\", category: \"Food & Dining\", image: \"Club Sandwich.jpg\", diet: \"Non-Veg\", otherImages: [\"Club Sandwich1.jpg\", \"Club Sandwich2.jpg\", \"Club Sandwich3.jpg\"], lat: 17.4455, lon: 78.3800 },\n    607: { id: 607, name: \"Greek Salad\", price: 199, vendor: \"SaladStop\", category: \"Food & Dining\", image: \"Greek Salad.jpg\", diet: \"Veg\", otherImages: [\"Greek Salad1.jpg\", \"Greek Salad2.jpg\", \"Greek Salad3.jpg\"], lat: 17.4480, lon: 78.3890 },\n    608: { id: 608, name: \"BBQ Ribs\", price: 449, vendor: \"GrillGuru\", image: \"BBQ Ribs.jpeg\", diet: \"Non-Veg\", otherImages: [\"BBQ Ribs1.jpeg\", \"BBQ Ribs.jpeg\", \"BBQ Ribs1.jpeg\"], lat: 17.4520, lon: 78.3870 },\n    609: { id: 609, name: \"Tiramisu\", price: 249, vendor: \"DessertDen\", category: \"Food & Dining\", image: \"Tiramisu.jpeg\", diet: \"Veg\", otherImages: [\"Tiramisu1.jpeg\", \"Tiramisu.jpeg\", \"Tiramisu1.jpeg\"], lat: 17.4400, lon: 78.3850 },\n    610: { id: 610, name: \"South Indian Thali\", price: 229, vendor: \"TasteOfSouth\", category: \"Food & Dining\", image: \"South Indian Thali.jpeg\", diet: \"Veg\", otherImages: [\"South Indian Thali.jpeg\", \"South Indian Thali2.jpeg\", \"South Indian Thali3.jpeg\"], lat: 17.4490, lon: 78.3950 },\n    611: { id: 611, name: \"Mutton Rogan Josh\", price: 429, vendor: \"CurryCorner\", category: \"Food & Dining\", image: \"Mutton Rogan Josh.jpeg\", diet: \"Non-Veg\", otherImages: [\"Mutton Rogan Josh2.jpeg\", \"Mutton Rogan Josh.jpeg\", \"Mutton Rogan Josh2.jpeg\"], lat: 17.4550, lon: 78.3920 },\n    612: { id: 612, name: \"Veg Fried Rice\", price: 169, vendor: \"WokToss\", category: \"Food & Dining\", image: \"Veg Fried Rice.jpeg\", diet: \"Veg\", otherImages: [\"Veg Fried Rice2.jpeg\", \"Veg Fried Rice.jpeg\", \"Veg Fried Rice2.jpeg\"], lat: 17.4430, lon: 78.3860 },\n    613: { id: 613, name: \"Steamed Bao Buns\", price: 149, vendor: \"AsianBites\", category: \"Food & Dining\", image: \"Steamed Bao Buns.jpg\", diet: \"Veg\", otherImages: [\"Steamed Bao Buns1.jpg\", \"Steamed Bao Buns2.jpg\", \"Steamed Bao Buns3.jpg\"], lat: 17.4500, lon: 78.3840 },\n    614: { id: 614, name: \"Shawarma Wrap\", price: 219, vendor: \"MediterraneanMunch\", image: \"Shawarma Wrap.jpeg\", diet: \"Non-Veg\", otherImages: [\"Shawarma Wrap2.jpeg\", \"Shawarma Wrap.jpeg\", \"Shawarma Wrap2.jpeg\"], lat: 17.4470, lon: 78.3910 },\n    615: { id: 615, name: \"Chocolate Lava Cake\", price: 199, vendor: \"DessertDen\", category: \"Food & Dining\", image: \"Chocolate Lava Cake.jpeg\", diet: \"Veg\", otherImages: [\"Chocolate Lava Cake2.jpeg\", \"Chocolate Lava Cake.jpeg\", \"Chocolate Lava Cake2.jpeg\"], lat: 17.4400, lon: 78.3850 }\n};\n\nconst ProductDetail = ({ product, onAddToCart, onToggleWishlist, cartItems, wishlistItems, navigateTo, onViewProduct }) => {\n    // Handle image source - check for uploaded files (with timestamps) vs static images\n    const getImageSrc = (image) => {\n        if (!image) {\n            console.log('No image provided for product');\n            return 'https://via.placeholder.com/200x150?text=No+Image';\n        }\n\n        // Check if image is already a full URL (uploaded via admin)\n        if (image.startsWith('http://') || image.startsWith('https://')) {\n            console.log('Using full URL image:', image);\n            return image;\n        }\n\n        // Check if image is an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\n        if (image.includes('-') && /^\\d+-\\w+\\./.test(image)) {\n            const uploadPath = `http://localhost:5000/uploads/${image}`;\n            console.log('Using uploaded image path:', uploadPath);\n            return uploadPath;\n        }\n\n        // Otherwise, it's a static image\n        const staticPath = `/IMAGES/${image}`;\n        console.log('Using static image path:', staticPath);\n        return staticPath;\n    };\n\n    // The product prop is already passed from App.js, so no need for useParams or fetching by ID here.\n\n    const [mainImage, setMainImage] = useState('');\n    const [productWithDistance, setProductWithDistance] = useState(product);\n    const [relatedProductsWithDistance, setRelatedProductsWithDistance] = useState([]);\n\n    // --- Geolocation and Distance Calculation ---\n    const getDistanceFromLatLonInKm = useCallback((lat1, lon1, lat2, lon2) => {\n        const R = 6371; // Radius of the earth in km\n        const deg2rad = (deg) => deg * (Math.PI / 180);\n        const dLat = deg2rad(lat2 - lat1);\n        const dLon = deg2rad(lon2 - lon1);\n        const a =\n            Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *\n            Math.sin(dLon / 2) * Math.sin(dLon / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return R * c; // Distance in km\n    }, []);\n\n    useEffect(() => {\n        if (product) {\n            const imageSrc = getImageSrc(product.image);\n            console.log('Setting main image for product:', product.name, 'Image path:', product.image, 'Resolved path:', imageSrc);\n            setMainImage(imageSrc);\n        }\n        window.scrollTo(0, 0);\n    }, [product]);\n\n    useEffect(() => {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    const userLat = position.coords.latitude;\n                    const userLon = position.coords.longitude;\n\n                    // Calculate distance for main product\n                    if (product && product.lat && product.lon) {\n                        const distance = getDistanceFromLatLonInKm(userLat, userLon, product.lat, product.lon);\n                        setProductWithDistance({ ...product, distance: `${distance.toFixed(1)} km away` });\n                    } else {\n                        setProductWithDistance({ ...product, distance: 'Distance N/A' });\n                    }\n\n                    // Calculate distance for related products\n                    const related = Object.values(allProducts)\n                        .filter(p => p.id !== product.id)\n                        .sort(() => 0.5 - Math.random()) // Shuffle\n                        .slice(0, 4); // Take 4\n                    const relatedWithDistance = related.map(p => {\n                        if (p.lat && p.lon) {\n                            const distance = getDistanceFromLatLonInKm(userLat, userLon, p.lat, p.lon);\n                            return { ...p, distance: `${distance.toFixed(1)} km away` };\n                        }\n                        return { ...p, distance: 'Distance N/A' };\n                    });\n                    setRelatedProductsWithDistance(relatedWithDistance);\n                },\n                (error) => {\n                    console.warn(`Geolocation error: ${error.message}.`);\n                    setProductWithDistance({ ...product, distance: 'Within 5km' });\n                    const related = Object.values(allProducts)\n                        .filter(p => p.id !== product.id)\n                        .sort(() => 0.5 - Math.random()) // Shuffle\n                        .slice(0, 4); // Take 4\n                    const relatedWithDistance = related.map(p => ({ ...p, distance: 'Within 5km' }));\n                    setRelatedProductsWithDistance(relatedWithDistance);\n                }\n            );\n        } else {\n            console.warn(\"Geolocation is not supported by this browser.\");\n            setProductWithDistance({ ...product, distance: 'Distance N/A' });\n            const related = Object.values(allProducts)\n                .filter(p => p.id !== product.id)\n                .sort(() => 0.5 - Math.random()) // Shuffle\n                .slice(0, 4); // Take 4\n            const relatedWithDistance = related.map(p => ({ ...p, distance: 'Distance N/A' }));\n            setRelatedProductsWithDistance(relatedWithDistance);\n        }\n    }, [product, getDistanceFromLatLonInKm]);\n\n    const isInCart = useMemo(() => cartItems.some(item => item._id === product?._id || item.id === product?.id), [cartItems, product]);\n    const isInWishlist = useMemo(() => wishlistItems.some(item => (item._id || item.id) === (product._id || product.id)), [wishlistItems, product]);\n\n    const thumbnailImages = useMemo(() => {\n        if (!product) return [];\n        const images = [getImageSrc(product.image)];\n        if (product.otherImages && product.otherImages.length > 0) {\n            return images.concat(product.otherImages.map(img => getImageSrc(img)));\n        }\n        return images;\n    }, [product]);\n\n    if (!product) {\n        return (\n            <div className=\"container\">\n                <h1>Product not found</h1>\n                <a href=\"#food\" onClick={(e) => { e.preventDefault(); navigateTo('food'); }} className=\"back-link\">&larr; Back to Food & Dining</a>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container\">\n            <a href=\"#food\" onClick={(e) => { e.preventDefault(); navigateTo('food'); }} className=\"back-link\">&larr; Back to Food & Dining</a>\n            \n            <div className=\"product-detail-container\">\n                <div className=\"product-images\">\n                    <div className=\"main-image\">\n                        <img id=\"main-product-image\" src={mainImage} alt={product.name} onError={(e) => console.log('Image failed to load:', mainImage)} />\n                    </div>\n                    <div className=\"thumbnail-track\">\n                        {thumbnailImages.map((imgSrc, index) => (\n                            <img\n                                key={index}\n                                src={imgSrc}\n                                alt={`${product.name} thumbnail ${index + 1}`}\n                                className={`thumbnail ${mainImage === imgSrc ? 'active' : ''}`}\n                                onClick={() => setMainImage(imgSrc)}\n                                onError={(e) => e.target.src = 'https://via.placeholder.com/80x80?text=No+Img'}\n                            />\n                        ))}\n                    </div>\n                </div>\n\n                <div className=\"product-details\">\n                    <h1>{product.name}</h1>\n                    <p className=\"product-vendor\">by {product.vendor}</p>\n                    <div className=\"product-price-details\">\n                        {/* Discount logic would be implemented here */}\n                        ₹{product.price}\n                    </div>\n                    <div className=\"product-description\">\n                        <h3>Description</h3>\n                        <p>Delicious and freshly prepared. Made with high-quality ingredients to satisfy your cravings.</p>\n                    </div>\n                    <div className=\"diet-info\">\n                        <strong>Dietary Type:</strong>\n                        <span \n                            className={`diet-indicator ${product.diet === 'Veg' ? 'diet-veg' : 'diet-non-veg'}`}\n                            title={product.diet}\n                        ></span>\n                    </div>\n                    <div className=\"product-distance\">\n                        <i className=\"fas fa-map-marker-alt\"></i>\n                        <span>{productWithDistance.distance || 'Calculating...'}</span>\n                    </div>\n                    <div className=\"product-actions\">\n                        {isInCart ? (\n                             <button onClick={() => navigateTo('cart')} className=\"btn go-to-cart\">Go to Cart</button>\n                        ) : (\n                            <button className=\"btn\" onClick={() => onAddToCart(product)}>Add to Cart</button>\n                        )}\n                        <button \n                            className={`wishlist-heart-btn ${isInWishlist ? 'active' : ''}`} \n                            title=\"Add to Wishlist\"\n                            onClick={() => onToggleWishlist(product)}\n                        >\n                            <i className={isInWishlist ? \"fas fa-heart\" : \"far fa-heart\"}></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"related-products-section\">\n                <h2>Related Products</h2>\n                <div className=\"related-product-grid\">\n                    {relatedProductsWithDistance.map(related => ( // Assuming related products should also navigate to their detail page\n                        <div key={related.id} className=\"related-product-card\" onClick={() => onViewProduct(related)} style={{cursor: 'pointer'}}>\n                            <img \n                                src={getImageSrc(related.image)} \n                                alt={related.name}\n                                onError={(e) => e.target.src = 'https://via.placeholder.com/200x150?text=No+Img'}\n                            />\n                            <div className=\"related-product-info\">\n                                <h4>{related.name}</h4>\n                                <p style={{fontSize: '14px', color: 'var(--gray)'}}>{related.vendor}</p>\n                                <div className=\"product-price\" style={{fontSize: '18px', marginTop: '10px'}}>\n                                    ₹{related.price}\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}